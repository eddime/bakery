<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phaser Test</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background-color: #040218;
            overflow: hidden;
        }
        
        #status {
            position: fixed;
            top: 10px;
            left: 10px;
            background: rgba(255, 255, 255, 0.9);
            padding: 15px;
            border-radius: 10px;
            font-family: monospace;
            z-index: 9999;
            max-width: 400px;
        }
        
        .log-item {
            margin: 5px 0;
        }
        
        .success { color: #00aa00; }
        .error { color: #aa0000; }
        .info { color: #0000aa; }
    </style>
</head>
<body>
    <div id="status">
        <div class="log-item info">‚è≥ Loading Phaser...</div>
    </div>
    <div id="game-container"></div>
    
    <script>
        const statusDiv = document.getElementById('status');
        
        function log(msg, type = 'info') {
            console.log(msg);
            const item = document.createElement('div');
            item.className = `log-item ${type}`;
            item.textContent = msg;
            statusDiv.appendChild(item);
            statusDiv.scrollTop = statusDiv.scrollHeight;
        }
        
        // Test 1: Check if we can create a canvas
        log('Testing canvas...', 'info');
        try {
            const testCanvas = document.createElement('canvas');
            testCanvas.width = 100;
            testCanvas.height = 100;
            const ctx = testCanvas.getContext('2d');
            ctx.fillStyle = 'red';
            ctx.fillRect(0, 0, 100, 100);
            log('‚úÖ Canvas works', 'success');
        } catch (e) {
            log('‚ùå Canvas failed: ' + e.message, 'error');
        }
        
        // Test 2: Check if WebGL is available
        log('Testing WebGL...', 'info');
        try {
            const testCanvas = document.createElement('canvas');
            const gl = testCanvas.getContext('webgl') || testCanvas.getContext('experimental-webgl');
            if (gl) {
                log('‚úÖ WebGL works', 'success');
            } else {
                log('‚ùå WebGL not available', 'error');
            }
        } catch (e) {
            log('‚ùå WebGL failed: ' + e.message, 'error');
        }
        
        // Test 3: Try to load a simple image via data URL
        log('Testing image loading...', 'info');
        const testImg = new Image();
        testImg.onload = () => log('‚úÖ Image loading works', 'success');
        testImg.onerror = () => log('‚ùå Image loading failed', 'error');
        testImg.src = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+M9QDwADhgGAWjR9awAAAABJRU5ErkJggg==';
        
        log('=== Tests complete ===', 'info');
        log('Now loading Phaser from CDN...', 'info');
    </script>
    
    <!-- Load Phaser from CDN for testing -->
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.55.2/dist/phaser.min.js"></script>
    
    <script>
        if (typeof Phaser !== 'undefined') {
            log('‚úÖ Phaser loaded from CDN!', 'success');
            log('Phaser version: ' + Phaser.VERSION, 'info');
            
            // Simple Phaser game
            log('Creating Phaser game...', 'info');
            
            const config = {
                type: Phaser.AUTO,
                parent: 'game-container',
                width: 800,
                height: 600,
                backgroundColor: '#2d2d2d',
                scene: {
                    create: function() {
                        log('‚úÖ Phaser scene created!', 'success');
                        
                        // Add some text
                        const text = this.add.text(400, 300, 'ü•ê Phaser Works!', {
                            fontSize: '48px',
                            fill: '#ffffff'
                        });
                        text.setOrigin(0.5);
                        
                        // Add a rotating sprite (using graphics)
                        const graphics = this.add.graphics();
                        graphics.fillStyle(0xff0000, 1);
                        graphics.fillRect(-25, -25, 50, 50);
                        graphics.generateTexture('square', 50, 50);
                        
                        const sprite = this.add.sprite(400, 200, 'square');
                        
                        this.tweens.add({
                            targets: sprite,
                            angle: 360,
                            duration: 2000,
                            repeat: -1
                        });
                        
                        log('‚úÖ Game running!', 'success');
                        
                        // Hide status after 5 seconds
                        setTimeout(() => {
                            statusDiv.style.opacity = '0';
                            statusDiv.style.transition = 'opacity 1s';
                        }, 5000);
                    }
                }
            };
            
            try {
                const game = new Phaser.Game(config);
                log('‚úÖ Phaser game instance created!', 'success');
            } catch (e) {
                log('‚ùå Phaser game failed: ' + e.message, 'error');
                console.error(e);
            }
        } else {
            log('‚ùå Phaser not loaded!', 'error');
        }
    </script>
</body>
</html>


